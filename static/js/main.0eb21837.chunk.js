(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{12:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),u=a.n(l),c=(a(12),Object(n.createContext)());var o=function(){var e=Object(n.useContext)(c),t=e.isLoading,a=e.filters,l=e.filterByNumericValue.filter((function(e){return e.name.toLowerCase().includes(a.filterByName.name.toLowerCase())}));return t?"Loading":r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Rotation Period"),r.a.createElement("th",null,"Orbital Period"),r.a.createElement("th",null,"Diameter"),r.a.createElement("th",null,"Climate"),r.a.createElement("th",null,"Gravity"),r.a.createElement("th",null,"Terrain"),r.a.createElement("th",null,"Surface Water"),r.a.createElement("th",null,"Population"),r.a.createElement("th",null,"Films"),r.a.createElement("th",null,"Created"),r.a.createElement("th",null,"Edited"),r.a.createElement("th",null,"URL"))),r.a.createElement("tbody",null,l.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{"data-testid":"planet-name"},e.name),r.a.createElement("td",null,e.rotation_period),r.a.createElement("td",null,e.orbital_period),r.a.createElement("td",null,e.diameter),r.a.createElement("td",null,e.climate),r.a.createElement("td",null,e.gravity),r.a.createElement("td",null,e.terrain),r.a.createElement("td",null,e.surface_water),r.a.createElement("td",null,e.population),r.a.createElement("td",null,e.films),r.a.createElement("td",null,e.created),r.a.createElement("td",null,e.edited),r.a.createElement("td",null,e.url))}))))},i=a(1);var m=function(){var e=Object(n.useContext)(c),t=e.data,a=e.filters,l=e.setFilters,u=e.setFilterByNumericValue,o=a.filterByNumericValues.map((function(e){return e.column})),m=["population","orbital_period","diameter","rotation_period","surface_water"].filter((function(e){return!o.includes(e)})),s=t;return a.filterByNumericValues.length>0&&a.filterByNumericValues.map((function(e){return"maior que"===e.comparison&&(s=s.filter((function(t){return parseInt(t[e.column],10)>parseInt(e.value,10)}))),"menor que"===e.comparison&&(s=s.filter((function(t){return parseInt(t[e.column],10)<parseInt(e.value,10)}))),"igual a"===e.comparison&&(s=s.filter((function(t){return parseInt(t[e.column],10)===parseInt(e.value,10)}))),s})),Object(n.useEffect)((function(){u(s)}),[a.filterByNumericValues]),r.a.createElement("header",null,r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"name-filter"},"Planet name:",r.a.createElement("input",{name:"name-filter",id:"name-filter","data-testid":"name-filter",onChange:function(e){var t=e.target.value;return l(Object(i.a)(Object(i.a)({},a),{},{filterByName:{name:t}}))}})),r.a.createElement("label",{htmlFor:"column"},"Column:",r.a.createElement("select",{name:"column",id:"column","data-testid":"column-filter"},m.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("label",{htmlFor:"comparison"},"Comparison:",r.a.createElement("select",{name:"comparison",id:"comparison","data-testid":"comparison-filter"},["maior que","menor que","igual a"].map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("label",{htmlFor:"value"},"Value:",r.a.createElement("input",{type:"number",name:"value",id:"value","data-testid":"value-filter"})),r.a.createElement("button",{type:"button","data-testid":"button-filter",onClick:function(){return function(){var e=a.filterByNumericValues,t=document.getElementById("column").value,n=document.getElementById("comparison").value,r=document.getElementById("value").value,u=e.concat({column:t,comparison:n,value:r});l(Object(i.a)(Object(i.a)({},a),{},{filterByNumericValues:u}))}()},disabled:0===m.length},"Filter"),r.a.createElement("label",{htmlFor:"column-sort"},"Oyder by:",r.a.createElement("select",{name:"column-sort",id:"column-sort","data-testid":"column-sort"},r.a.createElement("option",null,"Name"),r.a.createElement("option",null,"Rotation Period"),r.a.createElement("option",null,"Orbital Period"),r.a.createElement("option",null,"Diameter"),r.a.createElement("option",null,"Surface Water"),r.a.createElement("option",null,"Population")),r.a.createElement("label",{htmlFor:"ASC"},"ASC",r.a.createElement("input",{type:"radio",id:"ASC",name:"column-sort",value:"ASC","data-testid":"column-sort-input-asc"})),r.a.createElement("label",{htmlFor:"DESC"},"DESC",r.a.createElement("input",{type:"radio",id:"DESC",name:"column-sort",value:"DESC","data-testid":"column-sort-input-desc"})),r.a.createElement("button",{type:"button","data-testid":"column-sort-button"},"Sort"))),a.filterByNumericValues.map((function(e,t){return r.a.createElement("div",{"data-testid":"filter",id:t,key:t},r.a.createElement("span",null,"".concat(e.column," ").concat(e.comparison," ").concat(e.value)),r.a.createElement("button",{type:"button",onClick:function(){return function(e){var t=a.filterByNumericValues.filter((function(t){return t.column!==e.column}));l(Object(i.a)(Object(i.a)({},a),{},{filterByNumericValues:t}))}(e)}},"X"))})))},s=a(2),d=a.n(s),p=a(4),f=a(3),E=function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,n=a.results,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var b=function(e){var t=e.children,a=Object(n.useState)(!1),l=Object(f.a)(a,2),u=l[0],o=l[1],i=Object(n.useState)([]),m=Object(f.a)(i,2),s=m[0],b=m[1],y=Object(n.useState)({filterByName:{name:""},filterByNumericValues:[],order:{column:"Name",sort:"ASC"}}),h=Object(f.a)(y,2),v=h[0],j=h[1],O=Object(n.useState)([]),B=Object(f.a)(O,2),C=B[0],N=B[1];function S(){return(S=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,E();case 3:t=e.sent,b(t),N(t),o(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){S.apply(this,arguments)}()}),[]);var V={isLoading:u,data:s,filters:v,setFilters:j,filterByNumericValue:C,setFilterByNumericValue:N};return r.a.createElement(c.Provider,{value:V},t)};var y=function(){return r.a.createElement(b,null,r.a.createElement("main",null,r.a.createElement("span",null,"Hello, App!"),r.a.createElement(m,null),r.a.createElement(o,null)))};u.a.render(r.a.createElement(y,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.0eb21837.chunk.js.map